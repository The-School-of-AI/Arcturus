Consider using the pymupdf_layout package for a greatly improved page layout analysis.
============================================================
PROMPT VARIANT TESTING SCRIPT
============================================================
Extracting markdown from /Users/rohanshravan/TSAI/Arcturus/data/pdfs/1706.03762v7.pdf...
Extracted 40456 characters from PDF

============================================================
TESTING CHUNKING PROMPTS
============================================================

--- Testing V1_ORIGINAL ---
  Trial 1: 0.79s - Response: YES: Dot-product attention...
  Trial 2: 0.28s - Response: YES: Dot-product attention...
  Trial 3: 0.27s - Response: YES: Dot-product attention...
  Valid format: False

--- Testing V2_BOUNDARY_DETECTION ---
  Trial 1: 0.98s - Response: 9...
  Trial 2: 0.19s - Response: 9...
  Trial 3: 0.19s - Response: 9...
  Valid format: True

--- Testing V3_BINARY_SPLIT ---
  Trial 1: 0.56s - Response: YES...
  Trial 2: 0.21s - Response: YES...
  Trial 3: 0.21s - Response: YES...
  Valid format: True

--- Testing V4_EXTRACTIVE_BOUNDARY ---
  Trial 1: 0.65s - Response: In terms of computational complexity...
  Trial 2: 0.26s - Response: In terms of computational complexity...
  Trial 3: 0.26s - Response: In terms of computational complexity...
  Valid format: True

============================================================
TESTING IMAGE CAPTIONING PROMPTS
============================================================
Found 6 images, testing on 2

--- Testing V1_ORIGINAL ---
  Image: 1706.03762v7.pdf-14-0.png
    Time: 3.82s
    Response: Here's a description of the image:

The image is a red graph with a complex, branching structure. It...
  Image: 1706.03762v7.pdf-2-0.png
    Time: 5.30s
    Response: Here's a description of the image as an alt-text:

The image shows a diagram of a transformer block,...
  Avg time: 4.56s, Avg response length: 528 chars

--- Testing V2_RAG_OPTIMIZED ---
  Image: 1706.03762v7.pdf-14-0.png
    Time: 5.86s
    Response: Here's a caption for the image, incorporating the requested elements:

**"Figure 5: The Transformer ...
  Image: 1706.03762v7.pdf-2-0.png
    Time: 4.46s
    Response: Here's a caption for the image, incorporating all the requested elements:

**Caption:**

"Diagram il...
  Avg time: 5.16s, Avg response length: 724 chars

--- Testing V3_STRUCTURED_EXTRACTION ---
  Image: 1706.03762v7.pdf-14-0.png
    Time: 5.99s
    Response: Here's an analysis of the image in the requested format:

TYPE: Diagram
VISIBLE_TEXT: Many; of; the;...
  Image: 1706.03762v7.pdf-2-0.png
    Time: 4.64s
    Response: Here's an analysis of the image in the requested format:

TYPE: Diagram
VISIBLE_TEXT: Add & Norm; Fe...
  Avg time: 5.31s, Avg response length: 657 chars

--- Testing V4_CONTEXT_AWARE ---
  Image: 1706.03762v7.pdf-14-0.png
    Time: 4.10s
    Response: Hereâ€™s a description of the image based on the provided context:

The image depicts a diagram illust...
  Image: 1706.03762v7.pdf-2-0.png
    Time: 4.08s
    Response: Here's a description of the image based on the provided context:

The image depicts a simplified Tra...
  Avg time: 4.09s, Avg response length: 442 chars

============================================================
ANALYSIS SUMMARY
============================================================

### CHUNKING PROMPTS ###
V1_ORIGINAL: Score=5/9, Time=0.45s, Valid=False, Consistent=True
V2_BOUNDARY_DETECTION: Score=7/9, Time=0.45s, Valid=True, Consistent=True
V3_BINARY_SPLIT: Score=7/9, Time=0.32s, Valid=True, Consistent=True
V4_EXTRACTIVE_BOUNDARY: Score=7/9, Time=0.39s, Valid=True, Consistent=True

### IMAGE CAPTIONING PROMPTS ###
V1_ORIGINAL: Score=7/8, Time=4.56s, AvgLen=528
V2_RAG_OPTIMIZED: Score=4/8, Time=5.16s, AvgLen=724
V3_STRUCTURED_EXTRACTION: Score=5/8, Time=5.31s, AvgLen=657
V4_CONTEXT_AWARE: Score=5/8, Time=4.09s, AvgLen=442

Results saved to: /Users/rohanshravan/TSAI/Arcturus/debugs_and_tests/prompt_test_results.json

============================================================
RECOMMENDATIONS
============================================================

Best Chunking Prompt: V2_BOUNDARY_DETECTION (Score: 7/9)
Best Captioning Prompt: V1_ORIGINAL (Score: 7/8)
